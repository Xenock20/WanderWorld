-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Servidor: 127.0.0.1
-- Tiempo de generación: 06-11-2023 a las 18:55:07
-- Versión del servidor: 8.0.33
-- Versión de PHP: 8.2.4

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Base de datos: `wanderworld`
--

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `t_comentarios`
--

CREATE TABLE `t_comentarios` (
  `id_comentario` int NOT NULL,
  `id_publicacion` int NOT NULL,
  `id_perfil` int NOT NULL,
  `contenido` longtext NOT NULL,
  `fecha_comentario` timestamp NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `t_fotos`
--

CREATE TABLE `t_fotos` (
  `id_foto` int NOT NULL,
  `nombre` varchar(255) NOT NULL,
  `tipo_mime` varchar(100) NOT NULL,
  `imagen` longblob NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Volcado de datos para la tabla `t_fotos`
--

INSERT INTO `t_fotos` (`id_foto`, `nombre`, `tipo_mime`, `imagen`) VALUES
(1, 'default', 'image/png', 0x6956424f5277304b47676f414141414e5355684555674141414f45414141446843414d414141414a62534a49414141424e56424d5645563572366e67334e627938664866776133323162332f2f2f394b52447463566b7263745a2f75784b6d4a466a47634a7a2f7279375754487a68367361745454554e7972716e6c7661544676616e69745a36384d556c61545543764c556e4a4e45726c35643558556b623932384b4843697449506a52337171524150445077372b2b5946444e66645736726c5958787937486d3074615a48546944414236454143535741797830704a354d534439706a49566658314f4c664732656a487452556b6d5575725457324e4c58347548506f7171424142625476623255414358436c70796557474a595a6c35766d5a4a696658565557314a6e6834423261313345724a68336246375374714f5a754b322b324e5833343966437a386e6e7a62366b776276477737374e314d3731366575564c4553376359436f506c5843685a475851314b70766243616e355056793766447862533477624c70304d4c495a58666a714c4335477a71794e31544a526c757978734444466a58586c71444b58323238754c4f2f7261335168704b7655324c5175627a456348326c5747653065345236463338354141414a76456c45515652346e4f33616533766152685948594a4241386a614b554e4a634c494a78776661325943514c64374d70474350776a63524e73323663644c337864744e743076332b48324648463743455a6b5a434d34706d7148352f4e5331504839356e7a70777a4d3652554b6c4b6b534a456952596f554b564b6b534a456952596f554b564b6b534a456952596f554b564b6b534a456952596f554b564b6b534a474d6f2b623942544c4e734e5070624b6b71514b707243683131757765446f2b47574f6a776172695652375977616b74546f6a765a4c6732367273303572716335544f704b634e45624456714e78354a67372f424d6432465a6e4f427a75677779486736354c504467654e526f7470317a35466a713634663752594e41446b57735332495948726c4353756f4d44535771564f714e4f336c2b534947717073392b53487a2b572f64536b5549437763625231304f4a334555454639685936694e4374317547677363556e555655374c586b70454b4530616a574f75525371573633487930436f554f6f32526e6c2f325452526837306f454334452b35484434612f7552336c6f595865664e364661676c516f52746a67627951655158316f5957737237322b385768416c69685679745968714231366961794e557477596f49464934344575497246476b554f714f6a6a7263334b4c55546d393149566847666970565055627551707a514b56564f4c6f6f71326f63585368496675314864787978686a4c44427854564b6a64776e6b67736c48713552324434544c2b5467394161754641524361634342384267486a42556544504d4778416431356b346d5a503861705862514a37596b5176593349714c5236496d4637493945794c5643723431745134634a6d38316d5a434f792f6e59616e666536624e6a31396e775251384b6d4f5455696938713838466866416b37735373554d3730502f79567379524646736a35664b6c505533716155546a6136336c62706936763466354c456a6e432b6b4b54715a4771464b5a66377056413231556e327331437432542f643845374f7431357131736578535a46747868614c5344676c5a503571716f565a71676758307471437a473665675747735444396731707549695a6a63675a503155457854577a4572644875736758646b554b3150776a324e7a3470526f5537624659494b46797277773045724e2b6e545372656d3969536e57362b4b6b4b7874745732354b54576b63396f46436c652b49422f77494464756f6463644765366f41483267327067332b42646948526c754d784b35784b4154627a394656366e5851544f57654c647147584150724f493336516e584b6a56433377644c564b35574b4970715474716a597661344d796c57422b73444d6b486b54366f616a63344254477a515a73366537355670424352577a795a747757764544357357345a396969346f4552516c4763433064384348585439346d326163377246532f3064794c3738394266513776753136685957656a77517075584d38316a2f375257675163746e487048634f6176774e365a526a66724b7774467239633057482f47384951314f345777375a314f57582f5a392b3457585951504b3754646b636a2b48642b394834355253346754697535475a5037584766564944347a376c59544b7847326c655174696f6d6e4f5432753164716f3164436369363166387137635061304134525147785171655a316e356d573267706464485a68324971595273495a66464b7931754279776b34576f3931755a6461324453556438774c4456303355436561654b457458724d75724c524a684a4c49756842636c6d78644e394d4b6d34596f736c326c316b576c4d753356326b68673342726149754f6470765157474361596352677a44386454556254794e75427a44637255304a486e376a686857785166356b3341523774794e694a6d484f4b463870523559656b45394267467377327851747435534832584e79456d366756474679643063354933495362614e6146776d7263674c746f4a75736b6b456a356b65316141614952437871636869506157544a6a3339342b504d793849684f7758715864775379396b765a4d3669566c457650413637322b664c46653469594554586c2f6c2f645554526c4d783351596e504f4667452f72424c434a474f47583856684749396936566b50557a6479446153536f68363266755944446e6234795168306b78442b62386a666e394d4f397676564c5135322b306b49666a7a46323046477649553548697968517435476f4a335966544659567350354e43676c7045704a4366636538464f524a52517036476f522f453252516c354b7650754c486741774d68354734586c7044504751686833743832546253484b776766634c6945514c6954585067316e384b2f4a425a753843714545574843445836466b4470644d794745434246753843794d457150434462364645574a45754d4737634a6d344c4e7a67583768455643412b336f56686f7749446369384d456855596b483968774b684166477368424d61646f48416a6e4c55517573696448535769577965686b7763515879466b4e4e7231436b494f6238436164697138547977554c7738747a6f7a61544b68577132634a685266677339565474762b4f2f6e4a4f7132346752496a7777767677495564767775706874596f69526f587635783857754b6c5571336f585953644f6542623439476e65587a315a3343313452315477776943516738326f675a78576c314c4243632b57506e7a6f2f432f795a734369616170715762505a366548324d6e434a47424b4b517554446d362f4f6232655770616f6c647142615362567554773850747755765565495a51676742627066643944306e4130717764724d417a67316b46632b67776f766f423332677a77544f6d5a566e306172573744526b777842336f73493434447a6e743159652f6364644f7867766a726751766b384964414c575576326953366c704670726e4343464549537a3865726d4a4f68394241643253505a393973563270577444616a4350364c64555862713449394f723179355172664f386c49623566434d564c434c41664b77546c4f73766171466d34366777534955504458555658435075504358787574633479725658724d42485053526d6d4f484f466b435a6172535a5a77626b784d3539366d327a39764555737778786e514168706f6d41466b7775642f5a67524d506b43596f67506f43753445684173597962334c477546426351516f566b52434a4a42706136774265665a5445726366726b714d4150696969587170517768376b5948685a414357433554336f74614771416739434f442f664b585854724163706e755a4c5253415958742f764c6b76377a354e514a6365524e364f616371544c65456750687961537a2b382b5a6653384b30514e42514b514a5837714e49346f64484e2b4579665a6d79526b46753659304d3754597445445455667043342b2b394854304a6c326b38504c4a395433496d6e36595643755238412f667230305a506641393230544141737636496e5444557146756e664559582f414f47545434732f6233346b414e496347436d6d665969344749753748787a68392f4d2f62704d42615170544e786f33344d69794b464a484f433954345750614e75714833726b6d3554514d454c327865506e4246583733334165536245496e353753614b556b7239596b6633524778652b4d4b6e37783275622b524173757671416c4a57716d58386775482b4e2b6e6e6e445057634558684a76514354556857615078694d376d752f4746333442752b766f33636943316f366c47316d69386650727038766c63434d72307a512b455863594e725761715551414b777566506e352f4f68622b2f7555634453453149326b7139374835337a3848643237742f662b2f2b73783832615168706e557970435a33632f38724a737a2b6f43436d4e432f4a686b5a6d51307269674d437979457662704e464d617779497249615657513066346e463068326431706b652b2f4351692f2b70474b73457a6e52777a436d30576d516a726a597361796b416151615347567078704b77794962495a326e476b72434e3374423462634d43536d31307572726b50427664495255786758545169713343384b484e68364564467070526b49617a323130376b354339592b776b4136517973696e4a667a70586c4434312b643068425275694a527568316b4a2b7853456c4d5a68526b494b4434702f41694764595a475a6b48786355486b73645952375953474e4232464b516a70416f6672336b5044624638794d664a567849666c417044514f4d784f534438515a34304c694a314e614131385173684b534c6947746354682f4c6c30492f30644a5350776f544773634c67756655524f534e74503146314b363457636e4a4c34685572722f2f686d456e3749536b6f353853732f42692b6653685a444f6a38426c386d6476396f574566354757326a6a4d546b6a364b46774938786353446b52713433442b733856432b492f64745266536573596776414e5465744c505642677a38763850427762546f49447038725141414141415355564f524b35435949493d);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `t_likes`
--

CREATE TABLE `t_likes` (
  `id_like` int NOT NULL,
  `id_publicacion` int NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `t_mapas`
--

CREATE TABLE `t_mapas` (
  `id_mapa` int NOT NULL,
  `latitud` decimal(10,6) NOT NULL,
  `longitud` decimal(10,6) NOT NULL,
  `id_publicacion` int NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `t_perfil`
--

CREATE TABLE `t_perfil` (
  `id_perfil` int NOT NULL,
  `id_usuario` int NOT NULL,
  `id_foto` int NOT NULL DEFAULT '1',
  `nombre_completo` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
  `comentario_boolean` tinyint NOT NULL DEFAULT '0',
  `info` varchar(255) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Volcado de datos para la tabla `t_perfil`
--

INSERT INTO `t_perfil` (`id_perfil`, `id_usuario`, `id_foto`, `nombre_completo`, `comentario_boolean`, `info`) VALUES
(1, 3, 1, NULL, 0, NULL);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `t_publicaciones`
--

CREATE TABLE `t_publicaciones` (
  `id_publicacion` int NOT NULL,
  `id_usuario` int NOT NULL,
  `contenido` longtext NOT NULL,
  `fecha_publicacion` timestamp NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `t_usuarios`
--

CREATE TABLE `t_usuarios` (
  `id_usuario` int NOT NULL,
  `correo` varchar(100) NOT NULL,
  `usuario` varchar(50) NOT NULL,
  `password_hash` varchar(255) NOT NULL,
  `fecha_registro` timestamp NOT NULL,
  `pais` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Volcado de datos para la tabla `t_usuarios`
--

INSERT INTO `t_usuarios` (`id_usuario`, `correo`, `usuario`, `password_hash`, `fecha_registro`, `pais`) VALUES
(3, 'federico04@gmail.com', 'Federico', '$2y$10$Nvgv07BUz/mFwMOG5HAySe6hyiqjNz5Z.OKdxG/mhmeKCgxStxidu', '2023-11-06 17:46:44', 'pais1');

--
-- Índices para tablas volcadas
--

--
-- Indices de la tabla `t_comentarios`
--
ALTER TABLE `t_comentarios`
  ADD PRIMARY KEY (`id_comentario`),
  ADD KEY `id_perfil` (`id_perfil`),
  ADD KEY `id_publicacion` (`id_publicacion`);

--
-- Indices de la tabla `t_fotos`
--
ALTER TABLE `t_fotos`
  ADD PRIMARY KEY (`id_foto`);

--
-- Indices de la tabla `t_likes`
--
ALTER TABLE `t_likes`
  ADD PRIMARY KEY (`id_like`),
  ADD KEY `id_publicacion` (`id_publicacion`);

--
-- Indices de la tabla `t_mapas`
--
ALTER TABLE `t_mapas`
  ADD PRIMARY KEY (`id_mapa`),
  ADD KEY `id_publicacion` (`id_publicacion`);

--
-- Indices de la tabla `t_perfil`
--
ALTER TABLE `t_perfil`
  ADD PRIMARY KEY (`id_perfil`),
  ADD KEY `id_usuario` (`id_usuario`),
  ADD KEY `id_foto` (`id_foto`);

--
-- Indices de la tabla `t_publicaciones`
--
ALTER TABLE `t_publicaciones`
  ADD PRIMARY KEY (`id_publicacion`),
  ADD KEY `id_usuario` (`id_usuario`);

--
-- Indices de la tabla `t_usuarios`
--
ALTER TABLE `t_usuarios`
  ADD PRIMARY KEY (`id_usuario`);

--
-- AUTO_INCREMENT de las tablas volcadas
--

--
-- AUTO_INCREMENT de la tabla `t_comentarios`
--
ALTER TABLE `t_comentarios`
  MODIFY `id_comentario` int NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT de la tabla `t_fotos`
--
ALTER TABLE `t_fotos`
  MODIFY `id_foto` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;

--
-- AUTO_INCREMENT de la tabla `t_likes`
--
ALTER TABLE `t_likes`
  MODIFY `id_like` int NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT de la tabla `t_mapas`
--
ALTER TABLE `t_mapas`
  MODIFY `id_mapa` int NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT de la tabla `t_perfil`
--
ALTER TABLE `t_perfil`
  MODIFY `id_perfil` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;

--
-- AUTO_INCREMENT de la tabla `t_publicaciones`
--
ALTER TABLE `t_publicaciones`
  MODIFY `id_publicacion` int NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT de la tabla `t_usuarios`
--
ALTER TABLE `t_usuarios`
  MODIFY `id_usuario` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- Restricciones para tablas volcadas
--

--
-- Filtros para la tabla `t_comentarios`
--
ALTER TABLE `t_comentarios`
  ADD CONSTRAINT `t_comentarios_ibfk_1` FOREIGN KEY (`id_perfil`) REFERENCES `t_perfil` (`id_perfil`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  ADD CONSTRAINT `t_comentarios_ibfk_2` FOREIGN KEY (`id_publicacion`) REFERENCES `t_publicaciones` (`id_publicacion`) ON DELETE RESTRICT ON UPDATE RESTRICT;

--
-- Filtros para la tabla `t_likes`
--
ALTER TABLE `t_likes`
  ADD CONSTRAINT `t_likes_ibfk_1` FOREIGN KEY (`id_publicacion`) REFERENCES `t_publicaciones` (`id_publicacion`) ON DELETE RESTRICT ON UPDATE RESTRICT;

--
-- Filtros para la tabla `t_mapas`
--
ALTER TABLE `t_mapas`
  ADD CONSTRAINT `t_mapas_ibfk_1` FOREIGN KEY (`id_publicacion`) REFERENCES `t_publicaciones` (`id_publicacion`) ON DELETE RESTRICT ON UPDATE RESTRICT;

--
-- Filtros para la tabla `t_perfil`
--
ALTER TABLE `t_perfil`
  ADD CONSTRAINT `t_perfil_ibfk_1` FOREIGN KEY (`id_usuario`) REFERENCES `t_usuarios` (`id_usuario`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  ADD CONSTRAINT `t_perfil_ibfk_2` FOREIGN KEY (`id_foto`) REFERENCES `t_fotos` (`id_foto`) ON DELETE RESTRICT ON UPDATE RESTRICT;

--
-- Filtros para la tabla `t_publicaciones`
--
ALTER TABLE `t_publicaciones`
  ADD CONSTRAINT `t_publicaciones_ibfk_1` FOREIGN KEY (`id_usuario`) REFERENCES `t_usuarios` (`id_usuario`) ON DELETE RESTRICT ON UPDATE RESTRICT;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;